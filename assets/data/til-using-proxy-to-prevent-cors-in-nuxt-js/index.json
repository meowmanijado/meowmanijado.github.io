{"hash":"4e8d6a523acb0a380e682d7db05514b5e86cf0a4","data":{"post":{"title":"ðŸ¤¯ TIL: Using Proxy to prevent CORS in Nuxt JS","path":"/til-using-proxy-to-prevent-cors-in-nuxt-js/","slug":"using-proxy-to-prevent-cors-in-nuxt-js","datetime":"2020-02-21 00:00:00","content":"<p>When integrating API to frontend, I always encounter the error No â€˜Access-Control-Allow-Originâ€™ header, because of CORS Policy (Content-Resource Sharring Policy) by default browser forbid sharing of content by another domain.</p>\n<p>Normally, I make a request to the backend person to allow access control origin on their side</p>\n<p>Native PHP:</p>\n<pre class=\"shiki\" style=\"background-color: #ffffff\"><code><span style=\"color: #24292EFF\">&lt;?php</span>\n<span style=\"color: #24292EFF\"> </span>\n<span style=\"color: #1976D2\">header</span><span style=\"color: #24292EFF\">(</span><span style=\"color: #22863A\">'Access-Control-Allow-Origin: *'</span><span style=\"color: #24292EFF\">);</span>\n<span style=\"color: #1976D2\">header</span><span style=\"color: #24292EFF\">(</span><span style=\"color: #22863A\">\"Access-Control-Allow-Headers: Origin, X-Requested-With, Content-Type, Accept\"</span><span style=\"color: #24292EFF\">);</span></code></pre>\n<p>Laravel CORS for Laravel:</p>\n<pre class=\"shiki\" style=\"background-color: #ffffff\"><code><span style=\"color: #24292EFF\">composer require fruitcake/laravel-cors</span></code></pre>\n<p>Fortunately, there is an option to prevent CORS on Nuxt JS</p>\n<pre class=\"shiki\" style=\"background-color: #ffffff\"><code><span style=\"color: #24292EFF\">nuxt.config.js</span>\n\n<span style=\"color: #24292EFF\">{</span>\n<span style=\"color: #24292EFF\">  modules: [</span>\n<span style=\"color: #24292EFF\">    </span><span style=\"color: #22863A\">'@nuxtjs/axios'</span>\n<span style=\"color: #24292EFF\">  ],</span>\n<span style=\"color: #24292EFF\">â€‹</span>\n<span style=\"color: #24292EFF\">  axios: {</span>\n<span style=\"color: #24292EFF\">    proxy: </span><span style=\"color: #1976D2\">true</span><span style=\"color: #24292EFF\"> </span><span style=\"color: #6A737D\">// Can be also an object with default options</span>\n<span style=\"color: #24292EFF\">  },</span>\n<span style=\"color: #24292EFF\">â€‹</span>\n<span style=\"color: #24292EFF\">  proxy: {</span>\n<span style=\"color: #24292EFF\">    </span><span style=\"color: #22863A\">'/api/'</span><span style=\"color: #24292EFF\">: </span><span style=\"color: #22863A\">'http://api.example.com'</span><span style=\"color: #24292EFF\">,</span>\n<span style=\"color: #24292EFF\">    </span><span style=\"color: #22863A\">'/api2/'</span><span style=\"color: #24292EFF\">: </span><span style=\"color: #22863A\">'http://api.another-website.com'</span>\n<span style=\"color: #24292EFF\">  }</span>\n<span style=\"color: #24292EFF\">}</span></code></pre>\n<p>With that you don't have to bother the backend person to allow access origin.</p>\n","description":"","timeToRead":1,"cover":"","fullscreen":null,"author":null,"tags":[{"id":"Today I Learned","title":"Today I Learned","path":"/tag/Today%20I%20Learned/"},{"id":"CORS","title":"CORS","path":"/tag/CORS/"},{"id":"Nuxt JS","title":"Nuxt JS","path":"/tag/Nuxt%20JS/"}]}},"context":{}}