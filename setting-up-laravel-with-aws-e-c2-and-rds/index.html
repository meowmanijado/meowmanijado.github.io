<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" class="h-full" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D,%22class%22:%7B%22ssr%22:%22h-full%22%7D%7D">
  <head>
    <title>Setting up Laravel with AWS EC2 and RDS  | Meow Manijado</title><meta name="gridsome:hash" content="2d0949692f23636720c53b7f3a1168b8c06bb585"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.13"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="Note: This is not an how to ultimate guide, it&#x27;s my personal documentation how I manage to set this up and for future cheatsheet.
Prerequisite


AWS Fre Tier account
Laravel Project Repository

Set-up AWS EC2

Elastic Compute Cloud or EC2 is basically our vitual computers where w ..."><meta data-vue-tag="ssr" property="og:type" content="article"><meta data-vue-tag="ssr" property="og:title" content="Setting up Laravel with AWS EC2 and RDS"><meta data-vue-tag="ssr" property="og:description" content="Note: This is not an how to ultimate guide, it&#x27;s my personal documentation how I manage to set this up and for future cheatsheet.
Prerequisite


AWS Fre Tier account
Laravel Project Repository

Set-up AWS EC2

Elastic Compute Cloud or EC2 is basically our vitual computers where w ..."><meta data-vue-tag="ssr" property="og:url" content="https://meow.codes/setting-up-laravel-with-aws-e-c2-and-rds/"><meta data-vue-tag="ssr" property="article:published_time" content="2020-04-20"><meta data-vue-tag="ssr" property="og:image" content="https://meow.codes/images/meow-card.png"><meta data-vue-tag="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-tag="ssr" name="twitter:title" content="Setting up Laravel with AWS EC2 and RDS"><meta data-vue-tag="ssr" name="twitter:description" content="Note: This is not an how to ultimate guide, it&#x27;s my personal documentation how I manage to set this up and for future cheatsheet.
Prerequisite


AWS Fre Tier account
Laravel Project Repository

Set-up AWS EC2

Elastic Compute Cloud or EC2 is basically our vitual computers where w ..."><meta data-vue-tag="ssr" name="twitter:site" content="@meowmanijado"><meta data-vue-tag="ssr" name="twitter:creator" content="@meowmanijado"><meta data-vue-tag="ssr" name="twitter:image" content="https://meow.codes/images/meow-card.png"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/meowmanijado.github.io/assets/static/favicon.ce0531f.efcb514c4ed5bb749bbcc0c345bb775e.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/meowmanijado.github.io/assets/static/favicon.ac8d93a.efcb514c4ed5bb749bbcc0c345bb775e.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/meowmanijado.github.io/assets/static/favicon.b9532cc.efcb514c4ed5bb749bbcc0c345bb775e.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/meowmanijado.github.io/assets/static/favicon.f22e9f3.efcb514c4ed5bb749bbcc0c345bb775e.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/meowmanijado.github.io/assets/static/favicon.62d22cb.efcb514c4ed5bb749bbcc0c345bb775e.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/meowmanijado.github.io/assets/static/favicon.1539b60.efcb514c4ed5bb749bbcc0c345bb775e.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/meowmanijado.github.io/assets/static/favicon.dc0cdc5.efcb514c4ed5bb749bbcc0c345bb775e.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/meowmanijado.github.io/assets/static/favicon.7b22250.efcb514c4ed5bb749bbcc0c345bb775e.png"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Karla|Montserrat&amp;display=swap"><link rel="preload" href="/meowmanijado.github.io/assets/css/1.styles.fef9ce1e.css" as="style"><link rel="preload" href="/meowmanijado.github.io/assets/js/app.690dd3cf.js" as="script"><link rel="preload" href="/meowmanijado.github.io/assets/js/page--src--templates--post-vue.d1f6df51.js" as="script"><link rel="prefetch" href="/meowmanijado.github.io/assets/js/12.40ddcff6.js"><link rel="prefetch" href="/meowmanijado.github.io/assets/js/page--src--pages--404-vue.427ac6fa.js"><link rel="prefetch" href="/meowmanijado.github.io/assets/js/page--src--pages--about-vue.2682225e.js"><link rel="prefetch" href="/meowmanijado.github.io/assets/js/page--src--pages--index-vue.be6d9d76.js"><link rel="prefetch" href="/meowmanijado.github.io/assets/js/page--src--pages--projects-vue.ae2662fe.js"><link rel="prefetch" href="/meowmanijado.github.io/assets/js/page--src--pages--writings-vue.879b18a3.js"><link rel="prefetch" href="/meowmanijado.github.io/assets/js/page--src--templates--author-vue.cee2e1de.js"><link rel="prefetch" href="/meowmanijado.github.io/assets/js/page--src--templates--tag-vue.90aa7241.js"><link rel="prefetch" href="/meowmanijado.github.io/assets/js/vendors~page--src--pages--index-vue~page--src--pages--projects-vue~page--src--pages--writings-vue~pa~6e031627.20193340.js"><link rel="prefetch" href="/meowmanijado.github.io/assets/js/vendors~page--src--templates--post-vue.b456adf0.js"><link rel="stylesheet" href="/meowmanijado.github.io/assets/css/1.styles.fef9ce1e.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body class="antialiased font-serif" data-vue-tag="%7B%22class%22:%7B%22ssr%22:%22antialiased%20font-serif%22%7D%7D">
    <div data-server-rendered="true" id="app"><main><header><div class="pt-24"><div class="max-w-xl md:max-w-3xl xl:max-w-4xl mx-auto text-center px-6"><p class="text-gray-700 text-xs mb-2 uppercase">3 min read</p><h1 class="text-4xl sm:text-4xl leading-tight font-sans font-bold mb-2 text-black">Setting up Laravel with AWS EC2 and RDS</h1><p class="text-gray-700 text-sm"><time datetime="2020-03-14 00:00:00" class="capitalize">14 March, 2020</time></p></div></div><nav class="absolute top-0 left-0 z-20 mt-6 ml-6"><a href="/meowmanijado.github.io/" class="text-sm border opacity-75 hover:opacity-100 rounded-full px-4 py-2 transition-opacity duration-300 active text-gray-900 border-gray-400">← Home</a></nav></header><article class="max-w-xl md:max-w-2xl xl:max-w-3xl mx-auto px-6 sm:px-12 pt-16"><!----><div class="markdown text-lg leading-normal text-gray-700 pb-10"><p><em>Note: This is not an how to ultimate guide, it's my personal documentation how I manage to set this up and for future cheatsheet.</em></p>
<h5 id="prerequisite"><a href="#prerequisite" aria-hidden="true"><span class="icon icon-link"></span></a>Prerequisite</h5>
<hr>
<ul>
<li>AWS Fre Tier account</li>
<li>Laravel Project Repository</li>
</ul>
<h3 id="set-up-aws-ec2"><a href="#set-up-aws-ec2" aria-hidden="true"><span class="icon icon-link"></span></a>Set-up AWS EC2</h3>
<hr>
<p>Elastic Compute Cloud or EC2 is basically our vitual computers where we create, launch and terminate the server-instances.</p>
<ol>
<li>Create EC2 instance</li>
<li>Select (Free tier eligible) Ubuntu Server 18.04 LTS (HVM), SSD Volume Type</li>
<li>Select Next Configure Security Group</li>
<li>Select Type: HTTP; Port Range 80</li>
<li>I use key pair for additional security</li>
</ol>
<blockquote>
<p>A key pair consists of a public key that AWS stores, and a private key file that you store. Together, they allow you to connect to your instance securely. For Windows AMIs, the private key file is required to obtain the password used to log into your instance. For Linux AMIs, the private key file allows you to securely SSH into your instance.</p>
</blockquote>
<!-- -->
<blockquote>
<p>You have to download the private key file (*.pem file) before you can continue. Store it in a secure and accessible location. You will not be able to download the file again after it's created.</p>
</blockquote>
<p>Once the instance already created, you can now access the server using ssh</p>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">ssh ubuntu@1xx.xx.xx.xxx -i </span><span style="color: #D32F2F">~</span><span style="color: #24292EFF">/document-path-of-pem-file.pem</span></code></pre>
<h5 id="installing-nginx"><a href="#installing-nginx" aria-hidden="true"><span class="icon icon-link"></span></a>Installing Nginx</h5>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">sudo apt update</span>
<span style="color: #24292EFF">sudo apt install nginx</span></code></pre>
<p>Checking web server</p>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">systemctl status nginx</span></code></pre>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">Output</span>
<span style="color: #24292EFF">● nginx.service - A high performance web server and a reverse proxy server</span>
<span style="color: #24292EFF">   Loaded: loaded (/lib/systemd/system/nginx.service</span><span style="color: #D32F2F">;</span><span style="color: #24292EFF"> enabled</span><span style="color: #D32F2F">;</span><span style="color: #24292EFF"> vendor preset: enabled)</span>
<span style="color: #24292EFF">   Active: active (running) since Fri 2018-04-20 16:08:19 UTC</span><span style="color: #D32F2F">;</span><span style="color: #24292EFF"> 3 days ago</span>
<span style="color: #24292EFF">     Docs: man:nginx(8)</span>
<span style="color: #24292EFF"> Main PID: 2369 (nginx)</span>
<span style="color: #24292EFF">    Tasks: 2 (limit: 1153)</span>
<span style="color: #24292EFF">   CGroup: /system.slice/nginx.service</span>
<span style="color: #24292EFF">           ├─2369 nginx: master process /usr/sbin/nginx -g daemon on</span><span style="color: #D32F2F">;</span><span style="color: #24292EFF"> master_process on</span><span style="color: #D32F2F">;</span>
<span style="color: #24292EFF">           └─2380 nginx: worker process</span></code></pre>
<p>Now Nginx appears starterd successfully.</p>
<p>To check on the browser, call the public IP address that you can get on the instance page, then you can see the Welcome to NGINX!</p>
<p>For more detailed instruction I followed this tutorial:</p>
<p><a href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04" target="_blank" rel="nofollow noopener noreferrer">https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-18-04</a></p>
<p>✏️ <em>Note to self: Write Nginx cheatsheet for my future self!</em></p>
<h5 id="installing-php"><a href="#installing-php" aria-hidden="true"><span class="icon icon-link"></span></a>Installing PHP</h5>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">sudo apt install php-fpm php-mysql</span>
<span style="color: #24292EFF">sudo apt install php7.4-mbstring php7.4-xmlrpc php7.4-soap php7.4-gd php7.4-xml php7.4-cli php7.4-zip</span></code></pre>
<h5 id="configure-ssh"><a href="#configure-ssh" aria-hidden="true"><span class="icon icon-link"></span></a>Configure SSH</h5>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">$ ssh-key-gen</span>
<span style="color: #24292EFF">$ cat </span><span style="color: #D32F2F">~</span><span style="color: #24292EFF">/.ssh/id_rsa.pub</span></code></pre>
<p>Other resources I followed to set-up SSH:</p>
<p><a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1604" target="_blank" rel="nofollow noopener noreferrer">https://www.digitalocean.com/community/tutorials/how-to-set-up-ssh-keys-on-ubuntu-1604</a></p>
<p><a href="https://help.github.com/en/github/authenticating-to-github/error-permission-denied-publickey" target="_blank" rel="nofollow noopener noreferrer">https://help.github.com/en/github/authenticating-to-github/error-permission-denied-publickey</a></p>
<h5 id="installing-composer"><a href="#installing-composer" aria-hidden="true"><span class="icon icon-link"></span></a>Installing composer</h5>
<p><a href="https://linuxize.com/post/how-to-install-and-use-composer-on-ubuntu-18-04/" target="_blank" rel="nofollow noopener noreferrer">https://linuxize.com/post/how-to-install-and-use-composer-on-ubuntu-18-04/</a></p>
<h5 id="configuring-nginx-to-use-the-php-processor"><a href="#configuring-nginx-to-use-the-php-processor" aria-hidden="true"><span class="icon icon-link"></span></a>Configuring Nginx to Use the PHP Processor</h5>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">sudo nano /etc/nginx/sites-available/spartan</span></code></pre>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">server {</span>
<span style="color: #24292EFF">        listen 80</span><span style="color: #D32F2F">;</span>
<span style="color: #24292EFF">        root /var/www/html</span><span style="color: #D32F2F">;</span>
<span style="color: #24292EFF">        index index.php index.html index.htm index.nginx-debian.html</span><span style="color: #D32F2F">;</span>
<span style="color: #24292EFF">        server_name example.com</span><span style="color: #D32F2F">;</span>
<span style="color: #24292EFF">​</span>
<span style="color: #24292EFF">        location / {</span>
<span style="color: #24292EFF">                try_files $uri $uri/ =404</span><span style="color: #D32F2F">;</span>
<span style="color: #24292EFF">        }</span>
<span style="color: #24292EFF">​</span>
<span style="color: #24292EFF">        location </span><span style="color: #D32F2F">~</span><span style="color: #24292EFF"> \.php$ {</span>
<span style="color: #24292EFF">                include snippets/fastcgi-php.conf</span><span style="color: #D32F2F">;</span>
<span style="color: #24292EFF">                fastcgi_pass unix:/var/run/php/php7.4-fpm.sock</span><span style="color: #D32F2F">;</span>
<span style="color: #24292EFF">        }</span>
<span style="color: #24292EFF">​</span>
<span style="color: #24292EFF">        location </span><span style="color: #D32F2F">~</span><span style="color: #24292EFF"> /\.ht {</span>
<span style="color: #24292EFF">                deny all</span><span style="color: #D32F2F">;</span>
<span style="color: #24292EFF">        }</span>
<span style="color: #24292EFF">}</span></code></pre>
<p>Now enable your new server block by creating a symbolic link from your new server block configuration file in the <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">/etc/nginx/sites-available/ directory</code> to the <code class="shiki-inline" style="background: #2e3440; color: #d8dee9">/etc/nginx/sites-enabled/</code> directory:</p>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">sudo ln -s /etc/nginx/sites-available/spartan /etc/nginx/sites-enabled/</span></code></pre>
<p>To test your new configuration</p>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">sudo nginx -t</span></code></pre>
<p>Reload NGINX to make the necessary changes</p>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">sudo servince nginx restart</span></code></pre>
<p>To test in the browser, create PHP file wit phpinfo();</p>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">sudo nano /var/www/spartan/test.php </span></code></pre>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">&lt;?php</span>
<span style="color: #24292EFF">​</span>
<span style="color: #1976D2">echo</span><span style="color: #24292EFF"> </span><span style="color: #1976D2">phpinfo</span><span style="color: #24292EFF">();</span>
<span style="color: #24292EFF">​</span>
<span style="color: #24292EFF">?&gt;</span></code></pre>
<p>It should display the PHP info.</p>
<h3 id="set-up-aws-rds"><a href="#set-up-aws-rds" aria-hidden="true"><span class="icon icon-link"></span></a>Set-up AWS RDS</h3>
<hr>
<p><a href="https://linuxacademy.com/guide/15653-using-aws-rds-with-laravel-october-cms/" target="_blank" rel="nofollow noopener noreferrer">https://linuxacademy.com/guide/15653-using-aws-rds-with-laravel-october-cms/</a></p>
<h5 id="installing-mysql"><a href="#installing-mysql" aria-hidden="true"><span class="icon icon-link"></span></a>Installing MySQL</h5>
<pre class="shiki" style="background-color: #ffffff"><code><span style="color: #24292EFF">apt install php7.4-mysql</span></code></pre>
<p>Debugging links:</p>
<p><a href="https://stackoverflow.com/questions/41147609/unable-to-start-the-mysql-server-in-ubuntu" target="_blank" rel="nofollow noopener noreferrer">https://stackoverflow.com/questions/41147609/unable-to-start-the-mysql-server-in-ubuntu</a></p>
<p><a href="https://stackoverflow.com/questions/37212945/aws-cant-connect-to-rds-database-from-my-machine" target="_blank" rel="nofollow noopener noreferrer">https://stackoverflow.com/questions/37212945/aws-cant-connect-to-rds-database-from-my-machine</a></p>
</div><footer class="flex flex-wrap pb-10 sm:pb-16"><div><a href="/meowmanijado.github.io/tag/Today%20I%20Learned/" class="inline-block text-teal-400 hover:text-white hover:bg-teal-400 border border-teal-400 font-sans font-bold text-xs sm:text-sm px-4 py-2 mr-4 mb-2 rounded-full transition-colors duration-300"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" role="img" class="inline w-3 fill-current align-middle mr-1"><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg>
          Today I Learned
          </a><a href="/meowmanijado.github.io/tag/AWS/" class="inline-block text-teal-400 hover:text-white hover:bg-teal-400 border border-teal-400 font-sans font-bold text-xs sm:text-sm px-4 py-2 mr-4 mb-2 rounded-full transition-colors duration-300"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" role="img" class="inline w-3 fill-current align-middle mr-1"><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg>
          AWS
          </a><a href="/meowmanijado.github.io/tag/RDS/" class="inline-block text-teal-400 hover:text-white hover:bg-teal-400 border border-teal-400 font-sans font-bold text-xs sm:text-sm px-4 py-2 mr-4 mb-2 rounded-full transition-colors duration-300"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" role="img" class="inline w-3 fill-current align-middle mr-1"><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg>
          RDS
          </a><a href="/meowmanijado.github.io/tag/EC2/" class="inline-block text-teal-400 hover:text-white hover:bg-teal-400 border border-teal-400 font-sans font-bold text-xs sm:text-sm px-4 py-2 mr-4 mb-2 rounded-full transition-colors duration-300"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" role="img" class="inline w-3 fill-current align-middle mr-1"><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg>
          EC2
          </a><a href="/meowmanijado.github.io/tag/Laravel/" class="inline-block text-teal-400 hover:text-white hover:bg-teal-400 border border-teal-400 font-sans font-bold text-xs sm:text-sm px-4 py-2 mr-4 mb-2 rounded-full transition-colors duration-300"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" role="img" class="inline w-3 fill-current align-middle mr-1"><path d="M0 10V2l2-2h8l10 10-10 10L0 10zm4.5-4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"></path></svg>
          Laravel
          </a></div><div class="flex flex-wrap items-center justify-center sm:justify-left border-t border-b border-gray-300 w-full mt-10 py-10 sm:px-16"><figure class="px-2 mb-1 sm:mb-0 w-full sm:w-1/5 flex justify-center"><img src="/images/authors/meow.jpg" alt="meow" width="100" class="rounded-full p-4 sm:p-0"></figure><div class="px-4 sm:w-4/5 text-center sm:text-left"><h4 class="font-sans font-bold text-lg sm:text-xl"><p class="text-black capitalize border-b-2 border-transparent transition-colors duration-300 mb-0">Meow</p></h4><div class="text-sm"><a href="https://github.com/meowmanijado" target="_blank">GitHub</a> · <a href="https://twitter.com/meowmanijado" target="_blank">Twitter</a> · <a href="https://www.linkedin.com/in/sharmaine-manijado/" target="_blank">LinkedIn</a></div></div></div></footer></article><footer class="flex flex-wrap justify-between leading-normal max-w-screen-lg mx-auto py-8 sm:py-16 text-gray-700 text-sm pb-8 sm:pb-10"><div class="w-full sm:w-1/2 mb-4 sm:mb-0"><p class="mx-2">Built with <a href="https://gridsome.org" class="border-b border-transparent hover:font-bold transition-colors duration-300">Gridsome</a> &amp; <a href="https://tailwindcss.com/" class="border-b border-transparent hover:font-bold transition-colors duration-300">Tailwind CSS</a>.</p></div><div class="w-full sm:w-1/2"><nav><p class="flex sm:justify-end">Contact me at <a href="mailto:sharmainemanijado@gmail.com" class="block ml-2">sharmainemanijado@gmail.com</a></p><ul class="flex sm:justify-end hidden"><li class="px-2"><a href="/meowmanijado.github.io/" class="border-b border-transparent hover:font-bold transition-colors duration-300 active">Home</a></li><li class="px-2"><a href="/meowmanijado.github.io/about/" class="border-b border-transparent hover:font-bold transition-colors duration-300">About</a></li><li class="px-2"><a href="/meowmanijado.github.io/projects/" class="border-b border-transparent hover:font-bold transition-colors duration-300">Projects</a></li><li class="px-2"><a href="/meowmanijado.github.io/writings/" class="border-b border-transparent hover:font-bold transition-colors duration-300">Writings</a></li><li class="px-2"><a href="/meowmanijado.github.io/about/" class="border-b border-transparent hover:font-bold transition-colors duration-300">Contact</a></li></ul></nav></div></footer></main></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"title":"Setting up Laravel with AWS EC2 and RDS","path":"\u002Fsetting-up-laravel-with-aws-e-c2-and-rds\u002F","slug":"setting-up-laravel-with-aws-ec2-and-rds","datetime":"2020-03-14 00:00:00","content":"\u003Cp\u003E\u003Cem\u003ENote: This is not an how to ultimate guide, it's my personal documentation how I manage to set this up and for future cheatsheet.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Ch5 id=\"prerequisite\"\u003E\u003Ca href=\"#prerequisite\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EPrerequisite\u003C\u002Fh5\u003E\n\u003Chr\u003E\n\u003Cul\u003E\n\u003Cli\u003EAWS Fre Tier account\u003C\u002Fli\u003E\n\u003Cli\u003ELaravel Project Repository\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch3 id=\"set-up-aws-ec2\"\u003E\u003Ca href=\"#set-up-aws-ec2\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESet-up AWS EC2\u003C\u002Fh3\u003E\n\u003Chr\u003E\n\u003Cp\u003EElastic Compute Cloud or EC2 is basically our vitual computers where we create, launch and terminate the server-instances.\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003ECreate EC2 instance\u003C\u002Fli\u003E\n\u003Cli\u003ESelect (Free tier eligible) Ubuntu Server 18.04 LTS (HVM), SSD Volume Type\u003C\u002Fli\u003E\n\u003Cli\u003ESelect Next Configure Security Group\u003C\u002Fli\u003E\n\u003Cli\u003ESelect Type: HTTP; Port Range 80\u003C\u002Fli\u003E\n\u003Cli\u003EI use key pair for additional security\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EA key pair consists of a public key that AWS stores, and a private key file that you store. Together, they allow you to connect to your instance securely. For Windows AMIs, the private key file is required to obtain the password used to log into your instance. For Linux AMIs, the private key file allows you to securely SSH into your instance.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003C!-- --\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003EYou have to download the private key file (*.pem file) before you can continue. Store it in a secure and accessible location. You will not be able to download the file again after it's created.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EOnce the instance already created, you can now access the server using ssh\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003Essh ubuntu@1xx.xx.xx.xxx -i \u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E~\u003C\u002Fspan\u003E\u003Cspan style=\"color: #24292EFF\"\u003E\u002Fdocument-path-of-pem-file.pem\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch5 id=\"installing-nginx\"\u003E\u003Ca href=\"#installing-nginx\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EInstalling Nginx\u003C\u002Fh5\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003Esudo apt update\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003Esudo apt install nginx\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EChecking web server\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003Esystemctl status nginx\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003EOutput\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E● nginx.service - A high performance web server and a reverse proxy server\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E   Loaded: loaded (\u002Flib\u002Fsystemd\u002Fsystem\u002Fnginx.service\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #24292EFF\"\u003E enabled\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #24292EFF\"\u003E vendor preset: enabled)\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E   Active: active (running) since Fri 2018-04-20 16:08:19 UTC\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #24292EFF\"\u003E 3 days ago\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E     Docs: man:nginx(8)\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E Main PID: 2369 (nginx)\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E    Tasks: 2 (limit: 1153)\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E   CGroup: \u002Fsystem.slice\u002Fnginx.service\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E           ├─2369 nginx: master process \u002Fusr\u002Fsbin\u002Fnginx -g daemon on\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\u003Cspan style=\"color: #24292EFF\"\u003E master_process on\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E           └─2380 nginx: worker process\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENow Nginx appears starterd successfully.\u003C\u002Fp\u003E\n\u003Cp\u003ETo check on the browser, call the public IP address that you can get on the instance page, then you can see the Welcome to NGINX!\u003C\u002Fp\u003E\n\u003Cp\u003EFor more detailed instruction I followed this tutorial:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.digitalocean.com\u002Fcommunity\u002Ftutorials\u002Fhow-to-install-nginx-on-ubuntu-18-04\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fwww.digitalocean.com\u002Fcommunity\u002Ftutorials\u002Fhow-to-install-nginx-on-ubuntu-18-04\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E✏️ \u003Cem\u003ENote to self: Write Nginx cheatsheet for my future self!\u003C\u002Fem\u003E\u003C\u002Fp\u003E\n\u003Ch5 id=\"installing-php\"\u003E\u003Ca href=\"#installing-php\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EInstalling PHP\u003C\u002Fh5\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003Esudo apt install php-fpm php-mysql\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003Esudo apt install php7.4-mbstring php7.4-xmlrpc php7.4-soap php7.4-gd php7.4-xml php7.4-cli php7.4-zip\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Ch5 id=\"configure-ssh\"\u003E\u003Ca href=\"#configure-ssh\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EConfigure SSH\u003C\u002Fh5\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003E$ ssh-key-gen\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E$ cat \u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E~\u003C\u002Fspan\u003E\u003Cspan style=\"color: #24292EFF\"\u003E\u002F.ssh\u002Fid_rsa.pub\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EOther resources I followed to set-up SSH:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fwww.digitalocean.com\u002Fcommunity\u002Ftutorials\u002Fhow-to-set-up-ssh-keys-on-ubuntu-1604\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fwww.digitalocean.com\u002Fcommunity\u002Ftutorials\u002Fhow-to-set-up-ssh-keys-on-ubuntu-1604\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fhelp.github.com\u002Fen\u002Fgithub\u002Fauthenticating-to-github\u002Ferror-permission-denied-publickey\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fhelp.github.com\u002Fen\u002Fgithub\u002Fauthenticating-to-github\u002Ferror-permission-denied-publickey\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch5 id=\"installing-composer\"\u003E\u003Ca href=\"#installing-composer\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EInstalling composer\u003C\u002Fh5\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Flinuxize.com\u002Fpost\u002Fhow-to-install-and-use-composer-on-ubuntu-18-04\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Flinuxize.com\u002Fpost\u002Fhow-to-install-and-use-composer-on-ubuntu-18-04\u002F\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch5 id=\"configuring-nginx-to-use-the-php-processor\"\u003E\u003Ca href=\"#configuring-nginx-to-use-the-php-processor\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EConfiguring Nginx to Use the PHP Processor\u003C\u002Fh5\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003Esudo nano \u002Fetc\u002Fnginx\u002Fsites-available\u002Fspartan\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003Eserver {\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E        listen 80\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E        root \u002Fvar\u002Fwww\u002Fhtml\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E        index index.php index.html index.htm index.nginx-debian.html\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E        server_name example.com\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E​\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E        location \u002F {\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E                try_files $uri $uri\u002F =404\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E        }\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E​\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E        location \u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E~\u003C\u002Fspan\u003E\u003Cspan style=\"color: #24292EFF\"\u003E \\.php$ {\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E                include snippets\u002Ffastcgi-php.conf\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E                fastcgi_pass unix:\u002Fvar\u002Frun\u002Fphp\u002Fphp7.4-fpm.sock\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E        }\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E​\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E        location \u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E~\u003C\u002Fspan\u003E\u003Cspan style=\"color: #24292EFF\"\u003E \u002F\\.ht {\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E                deny all\u003C\u002Fspan\u003E\u003Cspan style=\"color: #D32F2F\"\u003E;\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E        }\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E}\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENow enable your new server block by creating a symbolic link from your new server block configuration file in the \u003Ccode class=\"shiki-inline\" style=\"background: #2e3440; color: #d8dee9\"\u003E\u002Fetc\u002Fnginx\u002Fsites-available\u002F directory\u003C\u002Fcode\u003E to the \u003Ccode class=\"shiki-inline\" style=\"background: #2e3440; color: #d8dee9\"\u003E\u002Fetc\u002Fnginx\u002Fsites-enabled\u002F\u003C\u002Fcode\u003E directory:\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003Esudo ln -s \u002Fetc\u002Fnginx\u002Fsites-available\u002Fspartan \u002Fetc\u002Fnginx\u002Fsites-enabled\u002F\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ETo test your new configuration\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003Esudo nginx -t\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EReload NGINX to make the necessary changes\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003Esudo servince nginx restart\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ETo test in the browser, create PHP file wit phpinfo();\u003C\u002Fp\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003Esudo nano \u002Fvar\u002Fwww\u002Fspartan\u002Ftest.php \u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003E&lt;?php\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E​\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #1976D2\"\u003Eecho\u003C\u002Fspan\u003E\u003Cspan style=\"color: #24292EFF\"\u003E \u003C\u002Fspan\u003E\u003Cspan style=\"color: #1976D2\"\u003Ephpinfo\u003C\u002Fspan\u003E\u003Cspan style=\"color: #24292EFF\"\u003E();\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E​\u003C\u002Fspan\u003E\n\u003Cspan style=\"color: #24292EFF\"\u003E?&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIt should display the PHP info.\u003C\u002Fp\u003E\n\u003Ch3 id=\"set-up-aws-rds\"\u003E\u003Ca href=\"#set-up-aws-rds\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ESet-up AWS RDS\u003C\u002Fh3\u003E\n\u003Chr\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Flinuxacademy.com\u002Fguide\u002F15653-using-aws-rds-with-laravel-october-cms\u002F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Flinuxacademy.com\u002Fguide\u002F15653-using-aws-rds-with-laravel-october-cms\u002F\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Ch5 id=\"installing-mysql\"\u003E\u003Ca href=\"#installing-mysql\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003EInstalling MySQL\u003C\u002Fh5\u003E\n\u003Cpre class=\"shiki\" style=\"background-color: #ffffff\"\u003E\u003Ccode\u003E\u003Cspan style=\"color: #24292EFF\"\u003Eapt install php7.4-mysql\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EDebugging links:\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F41147609\u002Funable-to-start-the-mysql-server-in-ubuntu\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F41147609\u002Funable-to-start-the-mysql-server-in-ubuntu\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Ca href=\"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F37212945\u002Faws-cant-connect-to-rds-database-from-my-machine\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F37212945\u002Faws-cant-connect-to-rds-database-from-my-machine\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n","description":"","timeToRead":3,"cover":"","fullscreen":null,"author":{"id":"meow","title":"meow","path":"\u002Fauthor\u002Fmeow\u002F"},"tags":[{"id":"Today I Learned","title":"Today I Learned","path":"\u002Ftag\u002FToday%20I%20Learned\u002F"},{"id":"AWS","title":"AWS","path":"\u002Ftag\u002FAWS\u002F"},{"id":"RDS","title":"RDS","path":"\u002Ftag\u002FRDS\u002F"},{"id":"EC2","title":"EC2","path":"\u002Ftag\u002FEC2\u002F"},{"id":"Laravel","title":"Laravel","path":"\u002Ftag\u002FLaravel\u002F"}]}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/meowmanijado.github.io/assets/js/app.690dd3cf.js" defer></script><script src="/meowmanijado.github.io/assets/js/page--src--templates--post-vue.d1f6df51.js" defer></script>
  </body>
</html>
